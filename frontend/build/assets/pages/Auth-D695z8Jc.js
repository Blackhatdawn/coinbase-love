import{a as e,c as s,r as t,j as r,d as a,o as i,f as n,Z as o,u as l,W as d,A as c,U as m,M as u,L as x,E as f,g as p}from"../vendor-BDLfEzqu.js";import{S as h,R as g}from"../ui-vendor-DZd8bb7k.js";import{u as v,a as b,b as y}from"../core-DQAxYPa2.js";function j(...t){return e(s(t))}const N=a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 shadow-lg shadow-primary/25",hero:"bg-gradient-to-r from-primary to-accent text-primary-foreground font-semibold hover:opacity-90 shadow-xl shadow-primary/30"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=t.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},n)=>{const o=a?h:"button";return r.jsx(o,{className:j(N({variant:s,size:t,className:e})),ref:n,...i})});w.displayName="Button";const k=t.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:j("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));k.displayName="Input";const S=a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=t.forwardRef(({className:e,...s},t)=>r.jsx(g,{ref:t,className:j(S(),e),...s}));C.displayName=g.displayName;const P=i({email:n().email("Invalid email address").min(1,"Email is required"),password:n().min(8,"Password must be at least 8 characters long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),name:n().min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters")}),E=i({email:n().email("Invalid email address").min(1,"Email is required"),password:n().min(1,"Password is required")});i({token:n().min(1,"Verification token is required"),email:n().email("Invalid email address")});const _=()=>{const[e,s]=t.useState(!0),[a,i]=t.useState(""),[n,h]=t.useState(""),[g,j]=t.useState(""),[N,S]=t.useState(!1),[_,V]=t.useState(!1),[z,I]=t.useState([]),[A,F]=t.useState(!1),[q,D]=t.useState(""),[Y,B]=t.useState(""),{signIn:R,signUp:W}=v(),T=l(),{toast:U}=b(),J=()=>{const s=((e,s)=>{try{return e.parse(s),{}}catch(t){if(t instanceof o){const e={};return t.errors.forEach(s=>{const t=s.path[0];e[t]=s.message}),e}return{form:"Validation failed"}}})(e?E:P,e?{email:a,password:n}:{email:a,password:n,name:g}),t=Object.entries(s).map(([e,s])=>({field:e,message:s}));return I(t),0===t.length},L=e=>{const s=z.find(s=>s.field===e);return s?s.message:null};return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-accent/20"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,hsl(var(--primary)/0.3),transparent_50%)]"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,hsl(var(--accent)/0.3),transparent_50%)]"}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-accent",children:r.jsx(d,{className:"h-7 w-7 text-primary-foreground"})}),r.jsx("span",{className:"font-display text-3xl font-bold",children:"CryptoVault"})]}),r.jsxs("h1",{className:"text-4xl xl:text-5xl font-display font-bold mb-6 leading-tight",children:["Your Gateway to",r.jsx("br",{}),r.jsx("span",{className:"text-gradient",children:"Digital Assets"})]}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-md mb-12",children:"Join millions of users trading cryptocurrencies securely. Start your journey with CryptoVault today."}),r.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[r.jsxs("div",{className:"glass-card p-4 rounded-xl",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:"$2.8T+"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Trading Volume"})]}),r.jsxs("div",{className:"glass-card p-4 rounded-xl",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:"100M+"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Users"})]}),r.jsxs("div",{className:"glass-card p-4 rounded-xl",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:"150+"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Countries"})]})]})]})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 sm:p-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[r.jsx("button",{onClick:()=>T("/"),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:r.jsx(c,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-accent",children:r.jsx(d,{className:"h-5 w-5 text-primary-foreground"})}),r.jsx("span",{className:"font-display text-xl font-bold",children:"CryptoVault"})]})]}),r.jsx("div",{className:"hidden lg:block mb-8",children:r.jsxs("button",{onClick:()=>T("/"),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(c,{className:"h-4 w-4"}),"Back to home"]})}),A?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-display font-bold mb-2",children:"Verify Your Email"}),r.jsxs("p",{className:"text-muted-foreground mb-8",children:["We've sent a verification link to ",Y,". Enter the verification code below."]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-display font-bold mb-2",children:e?"Welcome back":"Create account"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:e?"Enter your credentials to access your account":"Start your crypto journey today"})]}),r.jsxs("form",{onSubmit:A?async e=>{if(e.preventDefault(),q.trim()){V(!0);try{await y.auth.verifyEmail(q,Y),U({title:"Email verified!",description:"Your email has been verified. You can now sign in."}),F(!1),D(""),B(""),s(!0),i(""),h(""),j("")}catch(t){U({title:"Verification failed",description:t.message||"Invalid or expired verification token",variant:"destructive"})}finally{V(!1)}}else U({title:"Verification code required",description:"Please enter the verification code or paste the token",variant:"destructive"})}:async s=>{if(s.preventDefault(),J()){V(!0);try{if(e){const e=await R(a,n);e.error?e.error.includes("Email not verified")?U({title:"Email not verified",description:"Please verify your email address first. Check your inbox for a verification link.",variant:"destructive"}):U({title:"Sign in failed",description:e.error,variant:"destructive"}):(U({title:"Welcome back!",description:"You have successfully signed in"}),T("/"))}else{const e=await W(a,n,g);e.error?U({title:"Sign up failed",description:e.error,variant:"destructive"}):(U({title:"Account created!",description:"Please verify your email address. Check your inbox for a verification link."}),B(a),F(!0))}}finally{V(!1)}}},className:"space-y-5",children:[!e&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(C,{htmlFor:"name",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(k,{id:"name",type:"text",placeholder:"John Doe",value:g,onChange:e=>j(e.target.value),className:"pl-10 h-12 bg-muted/50 border-border/50 focus:border-primary "+(L("name")?"border-destructive":"")})]}),L("name")&&r.jsx("p",{className:"text-xs text-destructive",children:L("name")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(C,{htmlFor:"email",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(k,{id:"email",type:"email",placeholder:"you@example.com",value:a,onChange:e=>i(e.target.value),className:"pl-10 h-12 bg-muted/50 border-border/50 focus:border-primary "+(L("email")?"border-destructive":"")})]}),L("email")&&r.jsx("p",{className:"text-xs text-destructive",children:L("email")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(C,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(k,{id:"password",type:N?"text":"password",placeholder:"••••••••",value:n,onChange:e=>h(e.target.value),className:"pl-10 pr-10 h-12 bg-muted/50 border-border/50 focus:border-primary "+(L("password")?"border-destructive":"")}),r.jsx("button",{type:"button",onClick:()=>S(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:N?r.jsx(f,{className:"h-4 w-4"}):r.jsx(p,{className:"h-4 w-4"})})]}),L("password")&&r.jsx("p",{className:"text-xs text-destructive",children:L("password")}),!e&&!L("password")&&n&&r.jsx("p",{className:"text-xs text-muted-foreground",children:"✓ Password meets security requirements"})]}),e&&r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),r.jsx(w,{type:"submit",variant:"gradient",size:"lg",className:"w-full h-12",disabled:_,children:_?"Please wait...":e?"Sign In":"Create Account"})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-muted-foreground",children:[e?"Don't have an account?":"Already have an account?"," ",r.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-primary hover:underline font-medium",children:e?"Sign up":"Sign in"})]})}),r.jsxs("p",{className:"mt-8 text-xs text-center text-muted-foreground",children:["By continuing, you agree to our"," ",r.jsx("a",{href:"#",className:"underline hover:text-foreground",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"underline hover:text-foreground",children:"Privacy Policy"})]})]})})]})};export{_ as A,w as B,k as I,C as L,N as b,j as c};
