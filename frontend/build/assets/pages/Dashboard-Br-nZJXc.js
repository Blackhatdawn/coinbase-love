import{u as s,r as e,j as a,p as r,W as l,n as t,y as c,z as i,B as d,H as n,U as o,S as m,D as x,F as h}from"../vendor-BDLfEzqu.js";import{B as j}from"./Auth-D695z8Jc.js";import{C as u,a as f,b as g,c as N,d as p}from"./Contact-SV3dEBhu.js";import{u as v,b}from"../core-DQAxYPa2.js";const y=()=>{const y=v(),w=s(),k=y?.user,S=y?.signOut??(()=>{}),[z,A]=e.useState([]),[D,C]=e.useState(0),[F,B]=e.useState(!0);e.useEffect(()=>{k&&(async()=>{try{B(!0);const s=(await b.portfolio.get()).portfolio;C(s.totalBalance),A(s.holdings||[])}catch(s){console.error("Failed to fetch portfolio:",s),C(0),A([])}finally{B(!1)}})()},[k]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex h-16 items-center justify-between",children:[a.jsxs(r,{to:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-primary to-accent",children:a.jsx(l,{className:"h-5 w-5 text-primary-foreground"})}),a.jsx("span",{className:"font-display text-xl font-bold",children:"CryptoVault"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-muted-foreground hidden sm:block",children:["Welcome, ",k?.name]}),a.jsxs(j,{variant:"ghost",size:"sm",onClick:()=>{S(),w("/")},children:[a.jsx(t,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),a.jsxs("main",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"font-display text-3xl font-bold mb-2",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your portfolio and account settings"})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(u,{className:"glass-card border-border/50",children:[a.jsxs(f,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(g,{className:"text-lg",children:"Total Balance"}),a.jsx(N,{children:"Your portfolio value"})]}),a.jsx(c,{className:"h-5 w-5 text-primary"})]}),a.jsxs(p,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"font-display text-4xl font-bold mb-2",children:["$",D.toLocaleString(void 0,{minimumFractionDigits:2})]}),a.jsxs("div",{className:"flex items-center gap-2 text-success",children:[a.jsx(i,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"+$4,523.45 (4.12%) today"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex gap-1 h-3 rounded-full overflow-hidden bg-secondary",children:z.map((s,e)=>a.jsx("div",{className:"h-full transition-all duration-500",style:{width:`${s.allocation}%`,backgroundColor:0===e?"hsl(var(--primary))":1===e?"hsl(var(--accent))":2===e?"hsl(var(--success))":"hsl(var(--muted-foreground))"}},s.symbol))}),a.jsx("div",{className:"flex flex-wrap gap-3",children:z.map((s,e)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:0===e?"hsl(var(--primary))":1===e?"hsl(var(--accent))":2===e?"hsl(var(--success))":"hsl(var(--muted-foreground))"}}),a.jsxs("span",{className:"text-muted-foreground",children:[s.symbol," ",s.allocation,"%"]})]},s.symbol))})]}),a.jsx(j,{variant:"gradient",className:"w-full mt-6",children:"Deposit Funds"})]})]}),a.jsxs(u,{className:"glass-card border-border/50 overflow-hidden",children:[a.jsxs(f,{className:"flex flex-row items-center justify-between border-b border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d,{className:"h-5 w-5 text-primary"}),a.jsx(g,{className:"text-lg",children:"Your Holdings"})]}),a.jsx(r,{to:"/transactions",children:a.jsxs(j,{variant:"ghost",size:"sm",children:[a.jsx(n,{className:"h-4 w-4 mr-1"}),"History"]})})]}),a.jsx(p,{className:"p-0",children:F?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading holdings..."}):z.length>0?a.jsx("div",{className:"divide-y divide-border/50",children:z.map(s=>a.jsx("div",{className:"p-4 hover:bg-secondary/50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold text-primary",children:s.symbol.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:s.symbol}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.amount.toFixed(4)," ",s.symbol]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold",children:["$",s.value.toLocaleString()]}),void 0!==s.change&&a.jsxs("div",{className:"text-sm "+(s.change>=0?"text-success":"text-destructive"),children:[s.change>=0?"+":"",s.change,"%"]})]})]})},s.symbol))}):a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No holdings yet. Add some to get started!"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(u,{className:"glass-card border-border/50",children:[a.jsx(f,{children:a.jsxs(g,{className:"text-lg flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary"}),"Account"]})}),a.jsxs(p,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Name"}),a.jsx("p",{className:"font-medium",children:k?.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Email"}),a.jsx("p",{className:"font-medium",children:k?.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Member Since"}),a.jsx("p",{className:"font-medium",children:k?.createdAt?new Date(k.createdAt).toLocaleDateString():"N/A"})]})]})]}),a.jsxs(u,{className:"glass-card border-border/50",children:[a.jsx(f,{children:a.jsxs(g,{className:"text-lg flex items-center gap-2",children:[a.jsx(m,{className:"h-5 w-5 text-primary"}),"Settings"]})}),a.jsxs(p,{className:"space-y-2",children:[a.jsxs(j,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[a.jsx(x,{className:"h-4 w-4 mr-3"}),"Security"]}),a.jsxs(j,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[a.jsx(h,{className:"h-4 w-4 mr-3"}),"Notifications"]}),a.jsxs(j,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[a.jsx(o,{className:"h-4 w-4 mr-3"}),"Edit Profile"]})]})]})]})]})]})]})};export{y as D};
