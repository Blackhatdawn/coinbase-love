import{r as e,j as a,ac as s,z as r,Q as t}from"../vendor-BDLfEzqu.js";import{H as c,F as l}from"./Contact-SV3dEBhu.js";import{I as o,B as n}from"./Auth-D695z8Jc.js";import{C as i}from"./Index-CK4YIV2K.js";import{b as m}from"../core-DQAxYPa2.js";const d=()=>{const[d,p]=e.useState([]),[h,x]=e.useState(!0),[u,g]=e.useState(""),[f,j]=e.useState("price");e.useEffect(()=>{(async()=>{try{x(!0);const e=(await m.crypto.getAll()).cryptocurrencies||[];console.log("Fetched cryptos:",e);const a=e.map(e=>({symbol:e.symbol?.toUpperCase()||e.id?.toUpperCase()||"",name:e.name||"",price:e.price||0,change24h:e.change_24h||0,marketCap:`$${((e.market_cap||0)/1e9).toFixed(2)}B`,volume24h:`$${((e.volume_24h||0)/1e9).toFixed(2)}B`}));console.log("Transformed data:",a),p(a)}catch(e){console.error("Failed to fetch market data:",e),p([])}finally{x(!1)}})()},[]);const C=[...d.filter(e=>e.symbol.toLowerCase().includes(u.toLowerCase())||e.name.toLowerCase().includes(u.toLowerCase()))].sort((e,a)=>{switch(f){case"change":return a.change24h-e.change24h;case"marketCap":return parseFloat(a.marketCap.replace(/[$BTG,]/g,""))-parseFloat(e.marketCap.replace(/[$BTG,]/g,""));default:return a.price-e.price}});return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(c,{}),a.jsx("main",{className:"pt-24 pb-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"mb-12 animate-fade-in",children:[a.jsxs("h1",{className:"font-display text-4xl md:text-5xl font-bold mb-3",children:["Cryptocurrency ",a.jsx("span",{className:"text-gradient",children:"Markets"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:"Track the latest prices, charts, and market data for 200+ cryptocurrencies in real-time."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(s,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(o,{placeholder:"Search cryptocurrencies...",value:u,onChange:e=>g(e.target.value),className:"pl-10 h-11"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(n,{variant:"price"===f?"default":"outline",onClick:()=>j("price"),children:"Price"}),a.jsxs(n,{variant:"change"===f?"default":"outline",onClick:()=>j("change"),children:[a.jsx(r,{className:"h-4 w-4 mr-2"}),"Change"]}),a.jsxs(n,{variant:"marketCap"===f?"default":"outline",onClick:()=>j("marketCap"),children:[a.jsx(t,{className:"h-4 w-4 mr-2"}),"Market Cap"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h?a.jsx("div",{className:"col-span-full text-center py-12",children:a.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading market data..."})}):C.length>0?C.map((e,s)=>a.jsx(i,{symbol:e.symbol,name:e.name,price:e.price,change:e.change24h,marketCap:e.marketCap,volume:e.volume24h,icon:"â‚¿",index:s},e.symbol)):a.jsx("div",{className:"col-span-full text-center py-12",children:a.jsx("p",{className:"text-muted-foreground text-lg",children:"No cryptocurrencies found matching your search."})})})]})}),a.jsx(l,{})]})};export{d as M};
